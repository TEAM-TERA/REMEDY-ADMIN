services:
  remedy-admin-app:
    build: .
    container_name: remedy-admin-app
    env_file:
      - .env
    environment:
      - AI_API_KEY=${AI_API_KEY}
      - AI_TEMPERATURE=${AI_TEMPERATURE}
      - AI_MODEL=${AI_MODEL}
      - AI_BASE_URL=${AI_BASE_URL}
      - AI_COMPLETIONS_PATH=${AI_COMPLETIONS_PATH}
      - TRINO_URL=${TRINO_URL}
    ports:
      - "8080:8080"
    networks:
      - remedy-admin

  trino:
    image: trinodb/trino:478
    container_name: trino
    volumes:
      - ./trino/etc:/etc/trino
      - ./trino/data:/data
      - ./trino/logs:/var/log/trino
    environment:
      - JAVA_TOOL_OPTIONS=-Xmx2g
    networks:
      - remedy-admin

networks:
  remedy-admin:
    driver: bridge